#include <iostream>
using namespace std;

int main() {
	setlocale(0, "");
	cout << "Введите количество вершин графа" << endl;
	int r; //задаем переменную, которую будем вводить (кол-во вершин графа)
	cin >> r; //вводим переменную
	int m = 0; //инициализируем переменную, которая будет являться флагом
	int k = 0; //инициализируем переменную для подсчета количества степеней
	int* mas = new int[r]; //создаем динамический массив
	int sum = 0; //инициализируем переменную для подсчета суммы
	cout << "Введите степень вершин каждой вершины" << endl;
	for (int i = 0; i < r; i++) { //заполняем массив до тех пор, пока кол-во вершин меньше заданного значения
		cout << "Введите  " << i + 1 << "  вершину графа" << "  ";
		cin >> mas[i];
	}
	cout << endl;
	cout << "Все вершины графа:" << endl;
	for (int i = 0; i < r; i++) {
		cout << mas[i] << "  "; //выводим все вершины, которые записали
	}
	cout << endl;
	for (int i = 0; i < r; i++) { //проверяем граф на не связанность
		if (mas[i] == 0) {
			cout << "Граф не существует, так как он не связанный" << endl;
			m = 1;
		}
	}
	for (int i = 0; i < r; i++) { //задаем массив для проверки на количество нечетных вершин
		if (mas[i] % 2 != 0) { //если вершина делится на 2, то мы добавляем единицу к переменной k
			k++;
		}
		if (k % 2 != 0) { //то число, которое получилось в переменной, мы делим на 2 и проверяем на нечетность
			cout << "Графа не существует, так как он имеет нечетное количество нечетных степеней" << endl;
			m = 1;
		}
	}

	for (int i = 0; i < r; i++) { //задаем массив для проверки самой большой степени вершины
		if (mas[i] >= r) { 
			cout << "Граф не существует, как у вершины слишком большая степень" << endl;
			m = 1;
		}
	}

	for (int i = 0; i < r; i++) { //задаем массив для проверки степеней вершины на отрицательность
		if (mas[i] < 0) {
			cout << "Графа не существует, так как не бывает отрицательных степеней" << endl;
			m = 1;
		}
	}
	for (int i = 0; i < r; i++) { //задаем массив, чтобы посчитаться сумму степеней вершин
		sum += mas[i];
	}
	if (sum % 2 != 0) { //проверяем полученную сумму на нечетность
		cout << "Граф не существует, так как сумма степень вершин нечетная" << endl;
		m = 1;
	}
	if (m == 0) { //везде стоял маркер 0, тепень маркер 1, значит граф существует
		cout << "Граф существует";
	}


	return 0;
}
